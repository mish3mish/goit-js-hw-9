{"version":3,"file":"2-form.js","sources":["../src/js/2-form.js"],"sourcesContent":["// const form = document.querySelector('.feedback-form');\n// const LS_KEY = 'feedback-form-state';\n\n// const { isFileServingAllowed, formatPostcssSourceMap } = require('vite');\n\n// const emailInput = form.elements.email;\n// const messageInput = form.elements.message;\n\n// form.addEventListener('input', handleInput);\n\n// populateData();\n\n// const formData = {\n//   email: '',\n//   message: '',\n// };\n\n// function handleInput(event) {\n//   if (event.target.name === 'email') {\n//     formData.email = event.target.value;\n//   } else if (event.target.name === 'message') {\n//     formData.message = event.target.value;\n//   }\n//   //   console.log(event.target.name);\n//   //   console.log(event.target.value);\n//   localStorage.setItem(LS_KEY, JSON.stringify(formData));\n// }\n\n// function populateData() {\n//   const savedData = localStorage.getItem(LS_KEY);\n//   //   console.log(savedData);\n//   if (savedData) {\n//     const parsedData = JSON.parse(savedData);\n//     emailInput.value = parsedData.email.trim();\n//     messageInput.value = parsedData.message.trim();\n//     console.log(parsedData);\n//   }\n// }\n\n// form.addEventListener('submit', handleSubmit);\n\n// function handleSubmit(event) {\n//   if (!emailInput.value || !messageInput.value) {\n//     event.preventDefault();\n//     alert('Fill please all fields');\n//   } else {\n//     console.log({ email: emailInput.value, message: messageInput.value });\n//     localStorage.removeItem(LS_KEY);\n//     form.reset();\n//   }\n// }\n\n// 1. Select the form.\n// Define the key.\n// Select inputs.\n\nconst form = document.querySelector('.feedback-form');\nconst LS_KEY = 'feedback-form-state';\nconst emailInput = form.elements.email;\nconst messageInput = form.elements.message;\n\n// 2. Create a formData object.\n\nconst formData = {\n  email: '',\n  message: '',\n};\n\n// 3. Add an input event listener.\n// Inside the function detect which input is being edited, update formData and\n// save the updated data to local Storage.\n\nform.addEventListener('input', handleInput);\n\nfunction handleInput(event) {\n  if (event.target.name === 'email') {\n    formData.email = event.target.value;\n  } else if ((event.target.name = 'message')) {\n    formData.message = event.target.value;\n  }\n  localStorage.setItem(LS_KEY, JSON.stringify(formData));\n}\n\n// 4. Create a function populatedData which will check if there is saved data\n// in local storage and if so it populates the form fields. You need to parse\n// the data and then trim it when you put it as forms fieds value;\n// Call the function to pre-fill the form fields with any previously stored valued;\n\nfunction populateData() {\n  const savedData = localStorage.getItem(LS_KEY);\n  if (savedData) {\n    const parsedData = JSON.parse(savedData);\n    emailInput.value = parsedData.email.trim();\n    messageInput.value = parsedData.message.trim();\n  }\n}\n\npopulateData();\n\n// 5. Add a submit event listener.\n// Inside the function prevent the form submission if any fields are empty using alert.\n// If both fields are filledd, log formData to the console, clear the local storage\n// and reset the form.\n\nform.addEventListener('sumbit', handleSubmit);\n\nfunction handleSubmit(event) {\n  if (!emailInput.value || !messageInput.value) {\n    event.preventDefault();\n    alert('Fill the rest');\n  } else {\n    console.log({ email: emailInput.value, message: messageInput.value });\n    localStorage.removeItem(LS_KEY);\n    form.reset();\n  }\n}\n"],"names":["form","LS_KEY","emailInput","messageInput","formData","handleInput","event","populateData","savedData","parsedData","handleSubmit"],"mappings":"oCAwDA,MAAMA,EAAO,SAAS,cAAc,gBAAgB,EAC9CC,EAAS,sBACTC,EAAaF,EAAK,SAAS,MAC3BG,EAAeH,EAAK,SAAS,QAI7BI,EAAW,CACf,MAAO,GACP,QAAS,EACX,EAMAJ,EAAK,iBAAiB,QAASK,CAAW,EAE1C,SAASA,EAAYC,EAAO,CACtBA,EAAM,OAAO,OAAS,QACxBF,EAAS,MAAQE,EAAM,OAAO,OACpBA,EAAM,OAAO,KAAO,aAC9BF,EAAS,QAAUE,EAAM,OAAO,OAElC,aAAa,QAAQL,EAAQ,KAAK,UAAUG,CAAQ,CAAC,CACvD,CAOA,SAASG,GAAe,CACtB,MAAMC,EAAY,aAAa,QAAQP,CAAM,EAC7C,GAAIO,EAAW,CACb,MAAMC,EAAa,KAAK,MAAMD,CAAS,EACvCN,EAAW,MAAQO,EAAW,MAAM,KAAI,EACxCN,EAAa,MAAQM,EAAW,QAAQ,KAAI,CAC7C,CACH,CAEAF,IAOAP,EAAK,iBAAiB,SAAUU,CAAY,EAE5C,SAASA,EAAaJ,EAAO,CACvB,CAACJ,EAAW,OAAS,CAACC,EAAa,OACrCG,EAAM,eAAc,EACpB,MAAM,eAAe,IAErB,QAAQ,IAAI,CAAE,MAAOJ,EAAW,MAAO,QAASC,EAAa,KAAK,CAAE,EACpE,aAAa,WAAWF,CAAM,EAC9BD,EAAK,MAAK,EAEd"}